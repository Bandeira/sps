################################################################################
# Definitions
################################################################################
BASE_DIR := ../..
#-------------------------------------------------------------------------------
include $(BASE_DIR)/Makefiles/Makefile.defs

################################################################################
# Conditions
################################################################################
include $(BASE_DIR)/Makefiles/Makefile.cond

################################################################################
# Compile rules - general
################################################################################
include $(BASE_DIR)/Makefiles/Makefile.general

################################################################################
# Source files - CPPLIB
################################################################################
CPPLIB_SRC = \
	$(PWIZ_DATA_MS)/MSDataMerger.cpp \
	$(PWIZ_DATA_MS)/IO.cpp \
	$(PWIZ_DATA_MS)/SpectrumInfo.cpp \
	$(PWIZ_UTIL_MISC)/IterationListener.cpp \
	$(PWIZ_ANA_SPEC)/SpectrumListFactory.cpp \
	$(PWIZ_UTIL_MISC)/Filesystem.cpp \
	$(PWIZ_DATA_MS)/MSDataFile.cpp \
	FileLoader.cpp

################################################################################
# Compile rules: specific
################################################################################
CPPLIB_OBJ=$(CPPLIB_SRC:.cpp=.o)

FileLoader: $(CPPLIB_OBJ)
	$(CC) $(LDFLAGS) $(CPPFLAGS) $^ -o $@

.PHONY: subdirs $(SUBDIRS) clean all

################################################################################
# Target
################################################################################
all: FileLoader

################################################################################
# Compile rules: cleanup
################################################################################
clean:
	rm -f *.o 

################################################################################
